name: systemd
shortdesc: The systemd module streamlines the management of systemd units during image building.
description: |
  The `systemd` module streamlines the management of systemd units during image building. Units are divided into `system` and `user` categories, with `system` units managed directly using `systemctl` and `user` units using `systemctl --global`. You can specify which units to enable/disable or unmask/mask under each category.

  Supported operations are [enabling](https://www.freedesktop.org/software/systemd/man/latest/systemctl.html#enable%20UNIT%E2%80%A6), [disabling](https://www.freedesktop.org/software/systemd/man/latest/systemctl.html#disable%20UNIT%E2%80%A6), [masking](https://www.freedesktop.org/software/systemd/man/latest/systemctl.html#mask%20UNIT%E2%80%A6%E2%80%A6) and [unmasking](https://www.freedesktop.org/software/systemd/man/latest/systemctl.html#unmask%20UNIT%E2%80%A6).

example: |
  type: systemd
  system:
    enabled:
      - example.service # Enabled (runs on system boot)
    disabled:
      - example.target # Disabled (does not run on system boot, unless other unit strictly requires it)
    masked:
      - example.service # Masked (does not run on system boot, under any circumstances)
    unmasked:
      - example.service # Unmasked (runs on system boot, even if previously masked)    
  user:
    enabled:
      - example.timer # Enabled (runs for the user)
    disabled:
      - example.service # Disabled (does not run for the user, unless other unit strictly requires it)
    masked:
      - example.service # Masked (does not run for the user, under any circumstances) 
    unmasked:
      - example.service # Unmasked (runs for the user, even if previously masked)